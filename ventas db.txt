create table Estados(
ID INT NOT NULL PRIMARY KEY IDENTITY(1,1),
DESCRIPCION VARCHAR(50) NOT NULL,
)
GO
INSERT INTO Estados(DESCRIPCION)
VALUES('En proceso'),('Entregada'),('En reclamo'),('Cancelada')

go
create table Comentarios(
ID INT NOT NULL PRIMARY KEY IDENTITY(1,1),
IDVenta int not null REFERENCES ventas(ID),
REMITENTE VARCHAR(20) NOT NULL ,
DESTINATARIO VARCHAR(20) NOT NULL,
MENSAJE VARCHAR(500) NULL,
REPUTACION INT NULL CHECK(REPUTACION>0 AND REPUTACION<11),
fecha DATETIME not null
)
GO
create TABLE VENTAS(
ID INT NOT NULL PRIMARY KEY IDENTITY(1,1),
DNIVENDEDOR INT,
DNICOMPRADOR INT,
USUARIO VARCHAR(20) NOT NULL,
USUARIOVENDEDOR varchar(20) not null,
TITULO VARCHAR(300) NOT NULL,

FECHACOMPRA DATETIME NOT NULL,
FECHAENTREGA DATETIME NULL,
IDESTADO INT NOT NULL FOREIGN KEY REFERENCES ESTADOS(ID),
CANTIDAD INT NOT NULL CHECK(CANTIDAD>0),
PRECIOFINAL MONEY NOT NULL CHECK(PRECIOFINAL>0),
METODO CHAR NOT NULL,
URLIMAGEN VARCHAR(2000) NULL ,

)
go